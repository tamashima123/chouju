<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é€†ã‚¢ã‚­ãƒã‚¤ã‚¿ãƒ¼ï¼šå¤§å­¦æ¨è«– Pro</title>
    <style>
        body { font-family: 'Helvetica Neue', Arial, sans-serif; background-color: #f0f4f8; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; padding: 20px; }
        #game-box { background: white; padding: 2rem; border-radius: 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.1); width: 100%; max-width: 700px; }
        .ai-message { background: #e3f2fd; padding: 20px; border-radius: 10px; margin-bottom: 20px; font-weight: bold; color: #0d47a1; border-left: 5px solid #2196f3; }
        .question-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 10px; margin-bottom: 20px; max-height: 300px; overflow-y: auto; padding: 10px; border: 1px solid #eee; border-radius: 8px; }
        button { padding: 10px; border: none; border-radius: 6px; cursor: pointer; background: #3498db; color: white; font-size: 0.85rem; transition: 0.2s; }
        button:hover { background: #2980b9; }
        button:disabled { background: #ccc; cursor: not-allowed; opacity: 0.6; }
        .guess-area { border-top: 2px solid #eee; padding-top: 20px; display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; }
        input[type="text"] { padding: 12px; width: 60%; border-radius: 8px; border: 2px solid #ddd; outline: none; }
        input[type="text"]:focus { border-color: #3498db; }
        #log { font-size: 0.85rem; color: #555; max-height: 150px; overflow-y: auto; background: #fff; border: 1px solid #ddd; padding: 10px; margin-top: 10px; border-radius: 8px; }
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
    </style>
</head>
<body>

<div id="game-box">
    <div class="header">
        <strong style="color:#555;">é€†ã‚¢ã‚­ãƒã‚¤ã‚¿ãƒ¼ ğŸ“ å¤§å­¦ç·¨</strong>
        <button onclick="location.reload()" style="background:#95a5a6; padding: 5px 10px;">ãƒªã‚»ãƒƒãƒˆ</button>
    </div>
    <div class="ai-message" id="ai-response">ç§ãŒæ€ã„æµ®ã‹ã¹ã¦ã„ã‚‹å¤§å­¦ã‚’å½“ã¦ã¦ãã ã•ã„ã€‚å·¦ã®è³ªå•ãƒœã‚¿ãƒ³ã§çµã‚Šè¾¼ã‚ã¾ã™ã€‚</div>
    
    <div class="question-grid" id="questions"></div>

    <div class="guess-area">
        <input type="text" id="final-answer" placeholder="å¤§å­¦åã‚’å…¥åŠ›ï¼ˆä¾‹ï¼šæ—¥æœ¬å¤§å­¦ï¼‰">
        <button onclick="makeGuess()" style="background: #27ae60; width: 100px; font-weight: bold;">å›ç­”ï¼</button>
    </div>

    <div id="log">ã€è³ªå•å±¥æ­´ã€‘<br></div>
</div>

<script>
    const universities = [
        { name: "æ±äº¬å¤§å­¦", region: "é–¢æ±", national: true, empire: true, medicine: true, art: false, science: true, woman: false, march: false, kankan: false, box_ekiden: true, sea: false, sports: true },
        { name: "äº¬éƒ½å¤§å­¦", region: "è¿‘ç•¿", national: true, empire: true, medicine: true, art: false, science: true, woman: false, march: false, kankan: false, box_ekiden: false, sea: false, sports: true },
        { name: "æ—©ç¨²ç”°å¤§å­¦", region: "é–¢æ±", national: false, empire: false, medicine: false, art: false, science: true, woman: false, march: false, kankan: false, box_ekiden: true, sea: false, sports: true },
        { name: "æ…¶æ‡‰ç¾©å¡¾å¤§å­¦", region: "é–¢æ±", national: false, empire: false, medicine: true, art: false, science: true, woman: false, march: false, kankan: false, box_ekiden: true, sea: false, sports: true },
        { name: "æ˜æ²»å¤§å­¦", region: "é–¢æ±", national: false, empire: false, medicine: false, art: false, science: true, woman: false, march: true, kankan: false, box_ekiden: true, sea: false, sports: true },
        { name: "åŒå¿—ç¤¾å¤§å­¦", region: "è¿‘ç•¿", national: false, empire: false, medicine: false, art: false, science: true, woman: false, march: false, kankan: true, box_ekiden: false, sea: false, sports: true },
        { name: "æ±äº¬è—è¡“å¤§å­¦", region: "é–¢æ±", national: true, empire: false, medicine: false, art: true, science: false, woman: false, march: false, kankan: false, box_ekiden: false, sea: false, sports: false },
        { name: "ãŠèŒ¶ã®æ°´å¥³å­å¤§å­¦", region: "é–¢æ±", national: true, empire: false, medicine: false, art: false, science: true, woman: true, march: false, kankan: false, box_ekiden: false, sea: false, sports: false },
        { name: "è¿‘ç•¿å¤§å­¦", region: "è¿‘ç•¿", national: false, empire: false, medicine: true, art: false, science: true, woman: false, march: false, kankan: false, box_ekiden: false, sea: true, sports: true },
        { name: "æ—¥æœ¬å¤§å­¦", region: "é–¢æ±", national: false, empire: false, medicine: true, art: true, science: true, woman: false, march: false, kankan: false, box_ekiden: true, sea: false, sports: true },
        { name: "ç‰çƒå¤§å­¦", region: "æ²–ç¸„", national: true, empire: false, medicine: true, art: false, science: true, woman: false, march: false, kankan: false, box_ekiden: false, sea: true, sports: false },
        { name: "ä¸€æ©‹å¤§å­¦", region: "é–¢æ±", national: true, empire: false, medicine: false, art: false, science: false, woman: false, march: false, kankan: false, box_ekiden: false, sea: false, sports: false }
    ];

    const questionMaster = [
        // åœ°åŸŸãƒ»å±æ€§
        { text: "å›½ç«‹ãƒ»å…¬ç«‹å¤§å­¦ã§ã™ã‹ï¼Ÿ", check: (u) => u.national },
        { text: "ç§ç«‹å¤§å­¦ã§ã™ã‹ï¼Ÿ", check: (u) => !u.national },
        { text: "é–¢æ±åœ°æ–¹ã«ã‚ã‚Šã¾ã™ã‹ï¼Ÿ", check: (u) => u.region === "é–¢æ±" },
        { text: "è¿‘ç•¿åœ°æ–¹ã«ã‚ã‚Šã¾ã™ã‹ï¼Ÿ", check: (u) => u.region === "è¿‘ç•¿" },
        { text: "å¥³å­å¤§ã§ã™ã‹ï¼Ÿ", check: (u) => u.woman },
        // å¤§å­¦ç¾¤
        { text: "æ—§å¸å›½å¤§å­¦ï¼ˆæ—§å¸å¤§ï¼‰ã§ã™ã‹ï¼Ÿ", check: (u) => u.empire },
        { text: "MARCHã®ä¸€è§’ã§ã™ã‹ï¼Ÿ", check: (u) => u.march },
        { text: "é–¢é–¢åŒç«‹ã®ä¸€è§’ã§ã™ã‹ï¼Ÿ", check: (u) => u.kankan },
        // å­¦éƒ¨ãƒ»ç‰¹è‰²
        { text: "åŒ»å­¦éƒ¨ã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿ", check: (u) => u.medicine },
        { text: "ç†ç³»å­¦éƒ¨ï¼ˆå·¥å­¦ãƒ»ç†å­¦ãªã©ï¼‰ã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿ", check: (u) => u.science },
        { text: "èŠ¸è¡“ç³»ã®å­¦éƒ¨ï¼ˆç¾è¡“ãƒ»éŸ³æ¥½ï¼‰ãŒæœ‰åã§ã™ã‹ï¼Ÿ", check: (u) => u.art },
        { text: "æ°´ç”£ç³»ãƒ»æµ·ã«è¿‘ã„ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒã‚ã‚Šã¾ã™ã‹ï¼Ÿ", check: (u) => u.sea },
        // ãã®ä»–ãƒ»ã‚¹ãƒãƒ¼ãƒ„
        { text: "ç®±æ ¹é§…ä¼ã«å‡ºå ´ã—ãŸã“ã¨ãŒã‚ã‚Šã¾ã™ã‹ï¼Ÿ", check: (u) => u.box_ekiden },
        { text: "ã‚¹ãƒãƒ¼ãƒ„æ¨è–¦ã‚„éƒ¨æ´»å‹•ãŒéå¸¸ã«ç››ã‚“ã§ã™ã‹ï¼Ÿ", check: (u) => u.sports },
        { text: "æœ¬éƒ¨ã¯æ±äº¬éƒ½å†…ã«ã‚ã‚Šã¾ã™ã‹ï¼Ÿ", check: (u) => u.region === "é–¢æ±" && !u.name.includes("ç‰çƒ") && !u.name.includes("ç­‘æ³¢") }
    ];

    let target = universities[Math.floor(Math.random() * universities.length)];

    function init() {
        const qContainer = document.getElementById("questions");
        questionMaster.forEach((q, index) => {
            const btn = document.createElement("button");
            btn.textContent = q.text;
            btn.onclick = () => ask(index, btn);
            qContainer.appendChild(btn);
        });
    }

    function ask(index, btn) {
        const q = questionMaster[index];
        const isYes = q.check(target);
        const response = isYes ? "ã¯ã„ã€ãã†ã§ã™ã€‚" : "ã„ã„ãˆã€é•ã„ã¾ã™ã€‚";
        
        document.getElementById("ai-response").innerHTML = `è³ªå•ï¼š${q.text}<br>å›ç­”ï¼š<span style="color:${isYes?'#27ae60':'#e74c3c'}">${response}</span>`;
        addLog(q.text, response);
        btn.disabled = true;
    }

    function addLog(q, res) {
        const log = document.getElementById("log");
        const entry = document.createElement("div");
        entry.innerHTML = `ãƒ»${q} â†’ <b>${res}</b>`;
        log.prepend(entry);
    }

    function makeGuess() {
        const input = document.getElementById("final-answer");
        const val = input.value.trim();
        if (val === target.name) {
            document.getElementById("ai-response").innerHTML = `<span style="font-size:1.5rem">æ­£è§£ï¼ğŸ‰</span><br>ç§ãŒè€ƒãˆã¦ã„ãŸã®ã¯ã€Œ${target.name}ã€ã§ã™ã€‚`;
            document.getElementById("questions").style.pointerEvents = "none";
        } else {
            document.getElementById("ai-response").textContent = `ã€Œ${val}ã€ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚æ®‹å¿µï¼`;
        }
    }

    init();
</script>

</body>
</html>
