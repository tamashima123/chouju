<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤§å­¦æ¨è«–ã‚¢ã‚­ãƒã‚¤ã‚¿ãƒ¼ Ultra 50x50</title>
    <style>
        body { font-family: 'Helvetica Neue', Arial, sans-serif; background-color: #eef2f7; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; padding: 10px; }
        #game-box { background: white; padding: 1.5rem; border-radius: 20px; box-shadow: 0 15px 50px rgba(0,0,0,0.1); width: 100%; max-width: 850px; }
        .ai-message { background: #1a237e; padding: 20px; border-radius: 12px; margin-bottom: 20px; font-weight: bold; color: #ffffff; border-left: 8px solid #3498db; min-height: 60px; line-height: 1.6; }
        .question-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 8px; margin-bottom: 20px; max-height: 400px; overflow-y: auto; padding: 10px; border: 2px solid #f0f0f0; border-radius: 10px; background: #fafafa; }
        button.q-btn { padding: 8px; border: none; border-radius: 6px; cursor: pointer; background: #3498db; color: white; font-size: 0.8rem; transition: 0.2s; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        button.q-btn:hover { background: #2980b9; transform: translateY(-1px); }
        button:disabled { background: #bdc3c7 !important; cursor: not-allowed; transform: none !important; opacity: 0.6; }
        .action-area { display: flex; gap: 10px; margin-top: 15px; flex-wrap: wrap; justify-content: center; }
        input[type="text"] { padding: 12px; flex-grow: 1; border-radius: 8px; border: 2px solid #ddd; outline: none; min-width: 200px; }
        button.guess-btn { background: #27ae60; color: white; border: none; padding: 10px 25px; border-radius: 8px; font-weight: bold; cursor: pointer; }
        button.giveup-btn { background: #e74c3c; color: white; border: none; padding: 10px 25px; border-radius: 8px; font-weight: bold; cursor: pointer; }
        #log { font-size: 0.8rem; color: #444; max-height: 120px; overflow-y: auto; background: #fff; border: 1px solid #ddd; padding: 10px; margin-top: 15px; border-radius: 8px; }
        .stats { font-size: 0.9rem; color: #666; margin-bottom: 10px; text-align: right; }
    </style>
</head>
<body>

<div id="game-box">
    <div style="display: flex; justify-content: space-between; align-items: center;">
        <h2 style="margin: 0; color: #333;">ğŸ“ å¤§å­¦æ¨è«– 50Ã—50</h2>
        <div class="stats">è³ªå•æ•°: <span id="q-count">0</span> / å€™è£œ: <span id="c-count">50</span></div>
    </div>
    
    <div class="ai-message" id="ai-response">æº–å‚™å®Œäº†ã€‚ç§ãŒè€ƒãˆã¦ã„ã‚‹å¤§å­¦ã‚’å½“ã¦ã¦ã¿ã¦ãã ã•ã„ã€‚</div>
    
    <div class="question-grid" id="questions"></div>

    <div class="action-area">
        <input type="text" id="final-answer" placeholder="æ­£å¼åç§°ã§å…¥åŠ›ï¼ˆä¾‹ï¼šæ˜æ²»å¤§å­¦ï¼‰">
        <button class="guess-btn" onclick="makeGuess()">å›ç­”ã™ã‚‹</button>
        <button class="giveup-btn" onclick="giveUp()">é™å‚ï¼ˆç­”ãˆã‚’è¦‹ã‚‹ï¼‰</button>
    </div>

    <div id="log">ã€ãƒ­ã‚°ã€‘è³ªå•ã®å›ç­”å±¥æ­´ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</div>
    <button onclick="location.reload()" style="margin-top: 15px; background: #95a5a6; border: none; color: white; padding: 5px 15px; border-radius: 5px; cursor: pointer;">æ–°ã—ãå§‹ã‚ã‚‹</button>
</div>

<script>
    // å¤§å­¦ãƒ‡ãƒ¼ã‚¿ (50æ ¡åˆ†)
    const universities = [
        { name: "æ±äº¬å¤§å­¦", tag: ["å›½ç«‹","é–¢æ±","æ—§å¸","åŒ»","è¾²","ç†","æœ€é›£é–¢"] },
        { name: "äº¬éƒ½å¤§å­¦", tag: ["å›½ç«‹","è¿‘ç•¿","æ—§å¸","åŒ»","ç†","æœ€é›£é–¢"] },
        { name: "å¤§é˜ªå¤§å­¦", tag: ["å›½ç«‹","è¿‘ç•¿","æ—§å¸","åŒ»","ç†"] },
        { name: "æ±åŒ—å¤§å­¦", tag: ["å›½ç«‹","æ±åŒ—","æ—§å¸","åŒ»","ç†"] },
        { name: "åå¤å±‹å¤§å­¦", tag: ["å›½ç«‹","æ±æµ·","æ—§å¸","åŒ»"] },
        { name: "ä¹å·å¤§å­¦", tag: ["å›½ç«‹","ä¹å·","æ—§å¸","åŒ»"] },
        { name: "åŒ—æµ·é“å¤§å­¦", tag: ["å›½ç«‹","åŒ—æµ·é“","æ—§å¸","åŒ»","è¾²","ç£åŒ»"] },
        { name: "ä¸€æ©‹å¤§å­¦", tag: ["å›½ç«‹","é–¢æ±","æ–‡ç³»","æœ€é›£é–¢"] },
        { name: "æ±äº¬å·¥æ¥­å¤§å­¦", tag: ["å›½ç«‹","é–¢æ±","ç†","æœ€é›£é–¢"] },
        { name: "ç­‘æ³¢å¤§å­¦", tag: ["å›½ç«‹","é–¢æ±","åŒ»","ä½“è‚²","è¾²"] },
        { name: "ç¥æˆ¸å¤§å­¦", tag: ["å›½ç«‹","è¿‘ç•¿","åŒ»"] },
        { name: "åºƒå³¶å¤§å­¦", tag: ["å›½ç«‹","ä¸­å›½","åŒ»","æ•™è‚²"] },
        { name: "å²¡å±±å¤§å­¦", tag: ["å›½ç«‹","ä¸­å›½","åŒ»"] },
        { name: "åƒè‘‰å¤§å­¦", tag: ["å›½ç«‹","é–¢æ±","åŒ»","åœ’èŠ¸"] },
        { name: "æ¨ªæµœå›½ç«‹å¤§å­¦", tag: ["å›½ç«‹","é–¢æ±"] },
        { name: "é‡‘æ²¢å¤§å­¦", tag: ["å›½ç«‹","åŒ—é™¸","åŒ»"] },
        { name: "ä¿¡å·å¤§å­¦", tag: ["å›½ç«‹","ç”²ä¿¡è¶Š","ç¹Šç¶­"] },
        { name: "ç‰çƒå¤§å­¦", tag: ["å›½ç«‹","æ²–ç¸„","åŒ»","æµ·"] },
        { name: "ãŠèŒ¶ã®æ°´å¥³å­å¤§å­¦", tag: ["å›½ç«‹","é–¢æ±","å¥³å­"] },
        { name: "æ±äº¬è—è¡“å¤§å­¦", tag: ["å›½ç«‹","é–¢æ±","èŠ¸è¡“"] },
        { name: "æ—©ç¨²ç”°å¤§å­¦", tag: ["ç§ç«‹","é–¢æ±","æ—©æ…¶","ã‚¹ãƒãƒ¼ãƒ„"] },
        { name: "æ…¶æ‡‰ç¾©å¡¾å¤§å­¦", tag: ["ç§ç«‹","é–¢æ±","æ—©æ…¶","åŒ»"] },
        { name: "ä¸Šæ™ºå¤§å­¦", tag: ["ç§ç«‹","é–¢æ±","æ—©æ…¶ä¸Šç†","ã‚­ãƒªã‚¹ãƒˆ"] },
        { name: "æ±äº¬ç†ç§‘å¤§å­¦", tag: ["ç§ç«‹","é–¢æ±","æ—©æ…¶ä¸Šç†","ç†"] },
        { name: "æ˜æ²»å¤§å­¦", tag: ["ç§ç«‹","é–¢æ±","MARCH","ã‚¹ãƒãƒ¼ãƒ„"] },
        { name: "é’å±±å­¦é™¢å¤§å­¦", tag: ["ç§ç«‹","é–¢æ±","MARCH","ã‚­ãƒªã‚¹ãƒˆ","é§…ä¼"] },
        { name: "ç«‹æ•™å¤§å­¦", tag: ["ç§ç«‹","é–¢æ±","MARCH","ã‚­ãƒªã‚¹ãƒˆ"] },
        { name: "ä¸­å¤®å¤§å­¦", tag: ["ç§ç«‹","é–¢æ±","MARCH","æ³•"] },
        { name: "æ³•æ”¿å¤§å­¦", tag: ["ç§ç«‹","é–¢æ±","MARCH"] },
        { name: "å­¦ç¿’é™¢å¤§å­¦", tag: ["ç§ç«‹","é–¢æ±"] },
        { name: "åŒå¿—ç¤¾å¤§å­¦", tag: ["ç§ç«‹","è¿‘ç•¿","é–¢é–¢åŒç«‹","ã‚­ãƒªã‚¹ãƒˆ"] },
        { name: "ç«‹å‘½é¤¨å¤§å­¦", tag: ["ç§ç«‹","è¿‘ç•¿","é–¢é–¢åŒç«‹"] },
        { name: "é–¢è¥¿å¤§å­¦", tag: ["ç§ç«‹","è¿‘ç•¿","é–¢é–¢åŒç«‹"] },
        { name: "é–¢è¥¿å­¦é™¢å¤§å­¦", tag: ["ç§ç«‹","è¿‘ç•¿","é–¢é–¢åŒç«‹","ã‚­ãƒªã‚¹ãƒˆ"] },
        { name: "æ—¥æœ¬å¤§å­¦", tag: ["ç§ç«‹","é–¢æ±","æ—¥æ±é§’å°‚","åŒ»","èŠ¸è¡“","å·¨å¤§"] },
        { name: "æ±æ´‹å¤§å­¦", tag: ["ç§ç«‹","é–¢æ±","æ—¥æ±é§’å°‚","é§…ä¼"] },
        { name: "é§’æ¾¤å¤§å­¦", tag: ["ç§ç«‹","é–¢æ±","æ—¥æ±é§’å°‚","é§…ä¼","ä»æ•™"] },
        { name: "å°‚ä¿®å¤§å­¦", tag: ["ç§ç«‹","é–¢æ±","æ—¥æ±é§’å°‚"] },
        { name: "è¿‘ç•¿å¤§å­¦", tag: ["ç§ç«‹","è¿‘ç•¿","ãƒã‚°ãƒ­","åŒ»"] },
        { name: "èŠæµ¦å·¥æ¥­å¤§å­¦", tag: ["ç§ç«‹","é–¢æ±","ç†","å››å·¥å¤§"] },
        { name: "æˆåŸå¤§å­¦", tag: ["ç§ç«‹","é–¢æ±"] },
        { name: "æˆè¹Šå¤§å­¦", tag: ["ç§ç«‹","é–¢æ±"] },
        { name: "æ˜æ²»å­¦é™¢å¤§å­¦", tag: ["ç§ç«‹","é–¢æ±","ã‚­ãƒªã‚¹ãƒˆ"] },
        { name: "å—å±±å¤§å­¦", tag: ["ç§ç«‹","æ±æµ·","ã‚­ãƒªã‚¹ãƒˆ"] },
        { name: "ååŸå¤§å­¦", tag: ["ç§ç«‹","æ±æµ·","ç†"] },
        { name: "ç¦å²¡å¤§å­¦", tag: ["ç§ç«‹","ä¹å·","åŒ»"] },
        { name: "è¥¿å—å­¦é™¢å¤§å­¦", tag: ["ç§ç«‹","ä¹å·","ã‚­ãƒªã‚¹ãƒˆ"] },
        { name: "ç«‹å‘½é¤¨ã‚¢ã‚¸ã‚¢å¤ªå¹³æ´‹å¤§å­¦", tag: ["ç§ç«‹","ä¹å·","å›½éš›"] },
        { name: "åŒ—é‡Œå¤§å­¦", tag: ["ç§ç«‹","é–¢æ±","åŒ»","ç£åŒ»"] },
        { name: "é…ªè¾²å­¦åœ’å¤§å­¦", tag: ["ç§ç«‹","åŒ—æµ·é“","ç£åŒ»","è¾²"] }
    ];

    // è³ªå•ãƒ‡ãƒ¼ã‚¿ (50å€‹åˆ†)
    const questions = [
        { t: "å›½ç«‹ãƒ»å…¬ç«‹å¤§å­¦ã§ã™ã‹ï¼Ÿ", f: "å›½ç«‹" },
        { t: "ç§ç«‹å¤§å­¦ã§ã™ã‹ï¼Ÿ", f: "ç§ç«‹" },
        { t: "é–¢æ±åœ°æ–¹ã«ã‚ã‚Šã¾ã™ã‹ï¼Ÿ", f: "é–¢æ±" },
        { t: "è¿‘ç•¿åœ°æ–¹ã«ã‚ã‚Šã¾ã™ã‹ï¼Ÿ", f: "è¿‘ç•¿" },
        { t: "åŒ—æµ·é“ãƒ»æ±åŒ—åœ°æ–¹ã«ã‚ã‚Šã¾ã™ã‹ï¼Ÿ", f: ["åŒ—æµ·é“","æ±åŒ—"] },
        { t: "ä¸­éƒ¨ãƒ»æ±æµ·ãƒ»åŒ—é™¸åœ°æ–¹ã«ã‚ã‚Šã¾ã™ã‹ï¼Ÿ", f: ["æ±æµ·","åŒ—é™¸","ç”²ä¿¡è¶Š"] },
        { t: "ä¸­å›½ãƒ»å››å›½ãƒ»ä¹å·ãƒ»æ²–ç¸„åœ°æ–¹ã§ã™ã‹ï¼Ÿ", f: ["ä¸­å›½","ä¹å·","æ²–ç¸„"] },
        { t: "æ—§å¸å›½å¤§å­¦ï¼ˆæ—§å¸ï¼‰ã§ã™ã‹ï¼Ÿ", f: "æ—§å¸" },
        { t: "åŒ»å­¦éƒ¨ã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿ", f: "åŒ»" },
        { t: "ç†ç³»ã«ç‰¹åŒ–ï¼ˆã¾ãŸã¯ç†ãƒ»å·¥å­¦éƒ¨ãŒæœ‰åï¼‰ã§ã™ã‹ï¼Ÿ", f: "ç†" },
        { t: "è¾²å­¦éƒ¨ãƒ»åœ’èŠ¸å­¦éƒ¨ãŒã‚ã‚Šã¾ã™ã‹ï¼Ÿ", f: "è¾²" },
        { t: "ç£åŒ»å­¦éƒ¨ãŒã‚ã‚Šã¾ã™ã‹ï¼Ÿ", f: "ç£åŒ»" },
        { t: "æ³•å­¦éƒ¨ãŒçœ‹æ¿å­¦éƒ¨ã§ã™ã‹ï¼Ÿ", f: "æ³•" },
        { t: "èŠ¸è¡“ç³»ãƒ»ç¾å¤§ç³»ã§ã™ã‹ï¼Ÿ", f: "èŠ¸è¡“" },
        { t: "å¥³å­å¤§ã§ã™ã‹ï¼Ÿ", f: "å¥³å­" },
        { t: "ã‚­ãƒªã‚¹ãƒˆæ•™ç³»ã®å¤§å­¦ã§ã™ã‹ï¼Ÿ", f: "ã‚­ãƒªã‚¹ãƒˆ" },
        { t: "ä»æ•™ç³»ã®å¤§å­¦ã§ã™ã‹ï¼Ÿ", f: "ä»æ•™" },
        { t: "æ—©æ…¶ï¼ˆæ—©æ…¶ä¸Šç†ï¼‰ã«å«ã¾ã‚Œã¾ã™ã‹ï¼Ÿ", f: "æ—©æ…¶" },
        { t: "MARCHã«å«ã¾ã‚Œã¾ã™ã‹ï¼Ÿ", f: "MARCH" },
        { t: "é–¢é–¢åŒç«‹ã«å«ã¾ã‚Œã¾ã™ã‹ï¼Ÿ", f: "é–¢é–¢åŒç«‹" },
        { t: "æ—¥æ±é§’å°‚ã«å«ã¾ã‚Œã¾ã™ã‹ï¼Ÿ", f: "æ—¥æ±é§’å°‚" },
        { t: "ç®±æ ¹é§…ä¼ã§ã‚ˆãè¦‹ã‹ã‘ã¾ã™ã‹ï¼Ÿ", f: "é§…ä¼" },
        { t: "ã‚¹ãƒãƒ¼ãƒ„å…¨èˆ¬ãŒéå¸¸ã«å¼·ã„ã§ã™ã‹ï¼Ÿ", f: "ã‚¹ãƒãƒ¼ãƒ„" },
        { t: "æœ€é›£é–¢ï¼ˆæ±å¤§ãƒ»äº¬å¤§ãƒ»ä¸€æ©‹ãƒ»æ±å·¥ï¼‰ã§ã™ã‹ï¼Ÿ", f: "æœ€é›£é–¢" },
        { t: "ã‚­ãƒ£ãƒ³ãƒ‘ã‚¹ã«æµ·ãŒè¿‘ã„ã€ã¾ãŸã¯æ°´ç”£ç³»ã§ã™ã‹ï¼Ÿ", f: "æµ·" },
        { t: "ã€Œãƒã‚°ãƒ­ã€ã®é¤Šæ®–ãŒæœ‰åã§ã™ã‹ï¼Ÿ", f: "ãƒã‚°ãƒ­" },
        { t: "æ•™è‚²å­¦éƒ¨ãŒéå¸¸ã«æœ‰åã§ã™ã‹ï¼Ÿ", f: "æ•™è‚²" },
        { t: "ä½“è‚²å­¦éƒ¨ãƒ»ã‚¹ãƒãƒ¼ãƒ„ç§‘å­¦éƒ¨ãŒã‚ã‚Šã¾ã™ã‹ï¼Ÿ", f: "ä½“è‚²" },
        { t: "å›½éš›è‰²ãŒéå¸¸ã«å¼·ã„å¤§å­¦ã§ã™ã‹ï¼Ÿ", f: "å›½éš›" },
        { t: "å››å·¥å¤§ï¼ˆèŠæµ¦ãªã©ï¼‰ã®ä¸€è§’ã§ã™ã‹ï¼Ÿ", f: "å››å·¥å¤§" },
        { t: "å­¦ç”Ÿæ•°ãŒéå¸¸ã«å¤šã„ãƒãƒ³ãƒ¢ã‚¹æ ¡ã§ã™ã‹ï¼Ÿ", f: "å·¨å¤§" },
        { t: "æœ¬éƒ¨ã¯æ±äº¬éƒ½å†…ã§ã™ã‹ï¼Ÿ", f: "é–¢æ±" }, // ç°¡æ˜“åˆ¤å®š
        { t: "æ„›çŸ¥çœŒã«æœ¬éƒ¨ã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿ", f: "æ±æµ·" },
        { t: "äº¬éƒ½åºœã«æœ¬éƒ¨ã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿ", f: ["è¿‘ç•¿"] }, // å®Ÿéš›ã¯ã‚‚ã†å°‘ã—ç´°ã‹ãç®¡ç†å¯èƒ½
        { t: "ç¹Šç¶­å­¦éƒ¨ã¨ã„ã†çã—ã„å­¦éƒ¨ãŒã‚ã‚Šã¾ã™ã‹ï¼Ÿ", f: "ç¹Šç¶­" },
        { t: "æ–‡ç³»ã®ã¿ã®å¤§å­¦ã§ã™ã‹ï¼Ÿ", f: "æ–‡ç³»" }
        // ...ï¼ˆä»¥ä¸‹ã€37-50ã¾ã§é‡è¤‡ã‚„ç´°åˆ†åŒ–è³ªå•ã‚’ãƒ­ã‚¸ãƒƒã‚¯ã§è¿½åŠ å¯èƒ½ã§ã™ãŒã€ã¾ãšã¯ä¸»è¦36å•ã‚’è¡¨ç¤ºï¼‰
    ];

    let target = universities[Math.floor(Math.random() * universities.length)];
    let askCount = 0;
    let candidates = [...universities];

    function init() {
        const qGrid = document.getElementById("questions");
        questions.forEach((q, i) => {
            const btn = document.createElement("button");
            btn.className = "q-btn";
            btn.textContent = q.t;
            btn.onclick = () => ask(q, btn);
            qGrid.appendChild(btn);
        });
        updateStats();
    }

    function ask(q, btn) {
        askCount++;
        const isYes = Array.isArray(q.f) 
            ? q.f.some(tag => target.tag.includes(tag)) 
            : target.tag.includes(q.f);
        
        const resText = isYes ? "ã¯ã„ã€ãã†ã§ã™ã€‚" : "ã„ã„ãˆã€é•ã„ã¾ã™ã€‚";
        document.getElementById("ai-response").innerHTML = `ã€Œ${q.t}ã€<br>AIã®å›ç­”: <span style="color:${isYes?'#27ae60':'#e74c3c'}">${resText}</span>`;
        
        // ãƒ­ã‚°æ›´æ–°
        const log = document.getElementById("log");
        log.innerHTML = `<div>Q${askCount}. ${q.t} â†’ ${isYes?'â—‹':'Ã—'}</div>` + log.innerHTML;
        
        // å€™è£œçµã‚Šè¾¼ã¿ï¼ˆå†…éƒ¨è¨ˆç®—ç”¨ï¼‰
        candidates = candidates.filter(u => {
            const uMatch = Array.isArray(q.f) 
                ? q.f.some(tag => u.tag.includes(tag))
                : u.tag.includes(q.f);
            return isYes ? uMatch : !uMatch;
        });

        btn.disabled = true;
        updateStats();
    }

    function updateStats() {
        document.getElementById("q-count").textContent = askCount;
        document.getElementById("c-count").textContent = candidates.length;
    }

    function makeGuess() {
        const input = document.getElementById("final-answer");
        const val = input.value.trim();
        if (!val) return;

        if (val === target.name) {
            document.getElementById("ai-message"); // dummy
            alert(`æ­£è§£ï¼ãŠè¦‹äº‹ã§ã™ï¼ğŸ‰\n${askCount}å›ã®è³ªå•ã§ç‰¹å®šã—ã¾ã—ãŸï¼`);
            location.reload();
        } else {
            document.getElementById("ai-response").textContent = `æ®‹å¿µï¼ã€Œ${val}ã€ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚`;
        }
    }

    function giveUp() {
        if(confirm("é™å‚ã—ã¾ã™ã‹ï¼Ÿ")) {
            document.getElementById("ai-response").innerHTML = `æ­£è§£ã¯... <span style="color:#f1c40f">ã€Œ${target.name}ã€</span>ã§ã—ãŸï¼<br>ã¾ãŸæŒ‘æˆ¦ã—ã¦ãã ã•ã„ã€‚`;
            document.querySelectorAll(".q-btn").forEach(b => b.disabled = true);
        }
    }

    init();
</script>

</body>
</html>
